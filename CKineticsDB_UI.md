# CKineticsDB User Interface 

This document covers the commands to run the top-level functions of CKineticsDB

## Desktop Application

Double-clicking on the desktop application icon will launch the Graphical User Interface (GUI) by default. The GUI can perform all the tasks which can be done by the Command Line Interface (CLI).

<ins>Note 1</ins>: For MacOS, the Desktop Application cannot run by double-clicking. Follow the instructions in the next section to run the application on MacOS

<ins>Note 2</ins>: For Ubuntu, if the complete application (GUI+CLI) gives conflicts with the pre-installed libraries in a specific Linux OS distribution, and they are not easily resolvable, we have also provided a separate CLI-only application for Ubuntu. The CLI application has all the features of the GUI and can be used as shown in the CLI-specific documentation below. 

## Command Line Interface

•	Open the shell.

•	Navigate to the directory containing the CKineticsDB application.

•	Run any of the following commands to start.

<ins>Note</ins>: The following documentation uses a generic application name 'ckineticsdb'. Users should use the application name with the appropriate extension as available for their OS.


```python
ckineticsdb
```

OUTPUT:

Starts the graphical user interface. Same functions as double-clicking the desktop application.


```python
ckineticsdb gui [OPTIONS]
```

OUTPUT:

Starts the graphical user interface. Same functions as double-clicking the desktop application.

OPTIONS:

--config :Reads file ‘credentials.json’ file placed in the same directory as the desktop application. 

Description: Path to a different database credentials JSON file. Overrides the default file. Used to connect to a different MongoDB database / server


```python
ckineticsdb quality --dataset
```

OUTPUT:
Two quality assessment files will be generated in the parent project directory:

•	CKineticsDB_DFTassessment.pdf

•	CKineticsDB_filesAssessment.xlsx

--dataset: Absolute path to the parent directory containing DFT calculations for quality assessment. Parent project directory should have the hierarchy: 

<img src="https://github.com/VlachosGroup/ckineticsdb-documentation/blob/main/images/hierarchy.png?raw=true"/>

Any sub-directories inside the “DFT” directory can be identified as DFT calculations performed using VASP or Gaussian software.


```python
ckineticsdb download --params [OPTIONS]
```

OUTPUT:

Starts the download of stored files (or one JSON file with all the data) as per the selections in the CKineticsDB_metadata.xlsx/json file and the instructions in the download.json file. Details of both files are included in Appendix A in this document.

--params: Absolute path to the download instructions stated in a JSON file. 

OPTIONS:

--config: Reads file ‘credentials.json’ file placed in the same directory as the desktop application.

Path to a different database credentials JSON file. Overrides the default file. Used to connect to a different MongoDB database / server. 


```python
ckineticsdb upload --dataset --config
```

OUTPUT:

Starts the upload of the dataset. Dataset should have the top-level directory structure as per the CKineticsDB - Data Organization Policy.

Requires the following files to be present in the dataset directory:
-	The output files of quality testing.
-	A readMe.xlsx file as per a pre-determined template.
-	The publication paper with the name format <…>_paper.pdf

--dataset: Absolute path to the dataset directory to be uploaded.

--config: Path to the config file with database credentials. Must have write permissions. 

## APPENDIX A

Files required for downloading data from the command line interface. Following two files will be required to start download:

### Download parameters 

This is a JSON file which should include the following parameters:

**destination**: str

Absolute path of the directory in which the files should be downloaded.

**metadata_json**: bool

Format of the metadata file in which selections about the data to be downloaded have been made.

“True” - metadata file is JSON

“False”- metadata file is xlsx

This file can be generated by CKineticsDB for the user. Explained in section 2.

**modules**: list[str]

One or more of [“DFT”, “MKM”, “pMuTT”]. Files associated with the specified modules will be downloaded.

**criteria**: str

Only one of “publications” or “species” or “reactions.” These are the sheet names / criteria from the metadata file (Section 2). A user/machine should make selections in only one criterion for one run.

**mechanism**: bool

“True” - Generates a new pMuTT input excel sheet with only the selected species and reactions.

“False” - Downloads the original uploaded pMuTT sheet/s associated with the project. 

**download_json**: bool

Format of the downloaded data.

“True” – Data will be downloaded as one JSON file

“False”- Data will be downloaded in the original simulation software file formats

### Metadata File:

File containing metadata of the stored datasets. Users/machines will make selections in this file for specifying data of interest for download.

i. Generating the file:
-	This file will be created by CKineticsDB if not provided by the user.
-	The file will be always created in the directory entered in the ‘destination’ parameter from section 1. The file name (CKineticsDB_metadata.xlsx/json) and location should not be changed after making selections.
-	Users can always generate a new metadata file by not providing one. 
i.	The file:
The excel file contains three sheets:
a.	publications: List of all the publications whose data is stored in the database with corresponding details.
b.	species: List of all the species for which a DFT calculation is stored in the database, along with catalysis and DFT parameters for each calculation.
c.	reactions: List of all the reactions stored in the database, which are a part of MKMs associated with the stored projects.

ii.	Making selections:
-	Use the filter feature in Excel: ‘Home (Toolbar) -> Editing (Ribbon) -> Sort and Filter -> Filter’, to select rows of interest.
-	When the selections have been made, save the file. 

### Note: 
The MS Excel file is provided for human users to perceive the stored data and make selections manually.
The JSON file can be used by other software / scripts to read metadata and make selections. If using a JSON metadata file, the workflow should follow the same general instructions as mentioned in this document. A sample workflow to make selections using python is shown in the documentation file named [readJSONmetadata.md](https://github.com/siddhantlambor/ckineticsdb-documentation/blob/main/readJSONmetadata.md)
